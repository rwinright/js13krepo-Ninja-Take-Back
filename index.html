<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style type="text/css">body,html{margin:0;padding:0}body{display:flex;justify-content:center;align-items:center;flex-direction:column}.help,body{background-color:#1b1b1b}.help{color:azure;text-align:center;border-bottom-left-radius:20px;border-bottom-right-radius:20px;font-family:Comic Sans MS,cursive,sans-serif}.split{justify-content:space-evenly;align-items:center;display:flex;flex-direction:row}canvas{background-color:#fff;width:100%;max-width:800px;margin-top:45px}</style></head><body><script>//Disable arrow key scrolling
    window.addEventListener("keydown", function (e) {
      // space and arrow keys
      if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {
        e.preventDefault();
      }
    }, false);</script><div class="help"><h3>Who will be the first to steal the other Ninja's gem?</h3><hr><p>Build out the playing field by taking turns clicking and dragging platforms/traps/weapons from the top.</p><p>Press T to switch turn to other player so they may set their items</p><p>Each side corresponds to the items the player may place on his turn.</p><p>Once your items are placed, press start to play!</p><hr><canvas height="400" width="800" id="game"></canvas><p>ITEMS:</p><p>We'll leave the strategic parts up to you. ðŸ˜œ</p><p>Coffee: The brown potion - gives the player a boost in speed</p><p>Confuse Potion: the yellow one - ???</p><p>Platforms: yellow is a spring platform, green is a good ol' WALL!</p><p>Shurikens: Pick up 5 at a time - enables you to push the other player around and make them drop your gem!</p><hr><div class="split"><div><p>p1 controls:</p><p>WASD: move/jump</p><p>E: use shuriken</p></div><div><p>p2 controls:</p><p>Arrow Keys: move/jump</p><p>Spacebar: use shuriken</p></div></div></div><script type="text/javascript">!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=16)}([function(t,e,i){var s=new function(){var t,e,i,s,n,h,r,o,a,c,l,d;this._params=new function(){this.setSettings=function(t){for(var e=0;e<24;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var i=this.b+this.c+this.e;if(i<.18){var s=.18/i;this.b*=s,this.c*=s,this.e*=s}}},this.reset=function(){var t=this._params;s=100/(t.f*t.f+.001),n=100/(t.g*t.g+.001),h=1-t.h*t.h*t.h*.01,r=-t.i*t.i*t.i*1e-6,t.a||(l=.5-t.n/2,d=5e-5*-t.o),o=1+t.l*t.l*(t.l>0?-.9:10),a=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var s=this._params;return t=s.b*s.b*1e5,e=s.c*s.c*1e5,i=s.e*s.e*1e5+12,3*((t+e+i)/3|0)},this.synthWave=function(f,u){var g=this._params,p=1!=g.s||g.v,m=g.v*g.v*.1,w=1+3e-4*g.w,x=g.s*g.s*g.s*.1,y=1+1e-4*g.t,b=1!=g.s,_=g.x*g.x,v=g.g,j=g.q||g.r,A=g.r*g.r*g.r*.2,S=g.q*g.q*(g.q<0?-1020:1020),M=g.p?32+((1-g.p)*(1-g.p)*2e4|0):0,k=g.d,E=g.j/2,T=g.k*g.k*.01,P=g.a,R=t,I=1/t,O=1/e,W=1/i,L=5/(1+g.u*g.u*20)*(.01+x);L>.8&&(L=.8),L=1-L;for(var z,C,Y,q,D,H,U=!1,X=0,B=0,G=0,F=0,N=0,J=0,K=0,Q=0,V=0,Z=0,$=new Array(1024),tt=new Array(32),et=$.length;et--;)$[et]=0;for(et=tt.length;et--;)tt[et]=2*Math.random()-1;for(et=0;et<u;et++){if(U)return et;if(M&&++V>=M&&(V=0,this.reset()),c&&++a>=c&&(c=0,s*=o),(s*=h+=r)>n&&(s=n,v>0&&(U=!0)),C=s,E>0&&(Z+=T,C*=1+Math.sin(Z)*E),(C|=0)<8&&(C=8),P||((l+=d)<0?l=0:l>.5&&(l=.5)),++B>R)switch(B=0,++X){case 1:R=e;break;case 2:R=i}switch(X){case 0:G=B*I;break;case 1:G=1+2*(1-B*O)*k;break;case 2:G=1-B*W;break;case 3:G=0,U=!0}j&&((Y=0|(S+=A))<0?Y=-Y:Y>1023&&(Y=1023)),p&&w&&((m*=w)<1e-5?m=1e-5:m>.1&&(m=.1)),H=0;for(var it=8;it--;){if(++K>=C&&(K%=C,3==P))for(var st=tt.length;st--;)tt[st]=2*Math.random()-1;switch(P){case 0:D=K/C<l?.5:-.5;break;case 1:D=1-K/C*2;break;case 2:D=.225*(((D=1.27323954*(q=6.28318531*((q=K/C)>.5?q-1:q))+.405284735*q*q*(q<0?1:-1))<0?-1:1)*D*D-D)+D;break;case 3:D=tt[Math.abs(32*K/C|0)]}p&&(z=J,(x*=y)<0?x=0:x>.1&&(x=.1),b?(N+=(D-J)*x,N*=L):(J=D,N=0),F+=(J+=N)-z,D=F*=1-m),j&&($[Q%1024]=D,D+=$[(Q-Y+1024)%1024],Q++),H+=D}H*=.125*G*_,f[et]=H>=1?32767:H<=-1?-32768:32767*H|0}return u}};t.exports=function(t){s._params.setSettings(t);var e=s.totalReset(),i=new Uint8Array(4*((e+1)/2|0)+44),n=2*s.synthWave(new Uint16Array(i.buffer,44),e),h=new Uint32Array(i.buffer,0,44);h[0]=1179011410,h[1]=n+36,h[2]=1163280727,h[3]=544501094,h[4]=16,h[5]=65537,h[6]=44100,h[7]=88200,h[8]=1048578,h[9]=1635017060,h[10]=n,n+=44;for(var r=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="data:audio/wav;base64,";r<n;r+=3){var c=i[r]<<16|i[r+1]<<8|i[r+2];a+=o[c>>18]+o[c>>12&63]+o[c>>6&63]+o[63&c]}return a}},function(t,e,i){t.exports=i.p+"4b4e40fa76221a6aabce8c81cb06ac98.png"},function(t,e,i){t.exports=i.p+"b433bf3666965c88523c7f26885e3d8f.png"},function(t,e,i){t.exports=i.p+"e89d90bc0df21a0a5e427fc8babac59d.png"},function(t,e,i){t.exports=i.p+"0bfc9a14e6515158be44c7d7f2171738.png"},function(t,e,i){t.exports=i.p+"f9abeeb8e8a6c7fbf0f5b30d530cf625.png"},function(t,e,i){t.exports=i.p+"9192a792dcac476a537ab956b5b705dd.png"},function(t,e,i){t.exports=i.p+"1b3f2d2f376bd7dc86ad52b4bf922135.png"},function(t,e,i){t.exports=i.p+"8b367019751afd97a0d30d54b74ed5b4.png"},function(t,e,i){t.exports=i.p+"7ea13559a0abdc198fed5093a3ea8424.png"},function(t,e,i){t.exports=i.p+"75aa0d06afe4a27262956d2ec7bd5297.png"},function(t,e,i){t.exports=i.p+"d469615b333fe45fb9d1b3be0dd3997f.png"},function(t,e,i){t.exports=i.p+"a74caf33b7a4e524f7e050d8fd1f7c58.png"},function(t,e,i){t.exports=i.p+"b86208c97386cbcb8c4acd702b194607.png"},function(t,e,i){},,function(t,e,i){"use strict";i.r(e);let s,n,h={};function r(t,e){h[t]=h[t]||[],h[t].push(e)}function o(t,...e){h[t]&&h[t].map(t=>t(...e))}function a(){return s}function c(){return n}function l(t){if(!(s=document.getElementById(t)||t||document.querySelector("canvas")))throw Error("You must provide a canvas element for the game");return(n=s.getContext("2d")).imageSmoothingEnabled=!1,o("init"),{canvas:s,context:n}}class d{constructor({spriteSheet:t,frames:e,frameRate:i,loop:s=!0}={}){this.spriteSheet=t,this.frames=e,this.frameRate=i,this.loop=s;let{width:n,height:h,margin:r=0}=t.frame;this.width=n,this.height=h,this.margin=r,this._f=0,this._a=0}clone(){return f(this)}reset(){this._f=0,this._a=0}update(t=1/60){if(this.loop||this._f!=this.frames.length-1)for(this._a+=t;this._a*this.frameRate>=1;)this._f=++this._f%this.frames.length,this._a-=1/this.frameRate}render({x:t,y:e,width:i=this.width,height:s=this.height,context:n=c()}={}){let h=this.frames[this._f]/this.spriteSheet._f|0,r=this.frames[this._f]%this.spriteSheet._f|0;n.drawImage(this.spriteSheet.image,r*this.width+(2*r+1)*this.margin,h*this.height+(2*h+1)*this.margin,this.width,this.height,t,e,i,s)}}function f(t){return new d(t)}f.prototype=d.prototype,f.class=d;new WeakMap;const u=()=>{};function g(){let t=a();c().clearRect(0,0,t.width,t.height)}function p({fps:t=60,clearCanvas:e=!0,update:i,render:s}={}){if(!i||!s)throw Error("You must provide update() and render() functions");let n,h,r,a,c,l=0,d=1e3/t,f=1/t,p=e?g:u;function m(){if(h=requestAnimationFrame(m),r=performance.now(),a=r-n,n=r,!(a>1e3)){for(o("tick"),l+=a;l>=d;)c.update(f),l-=d;p(),c.render()}}return c={update:i,render:s,isStopped:!0,start(){n=performance.now(),this.isStopped=!1,requestAnimationFrame(m)},stop(){this.isStopped=!0,cancelAnimationFrame(h)},_frame:m,set _last(t){n=t}}}let m={},w={},x={13:"enter",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"};function y(t){let e=x[t.which];w[e]=!0,m[e]&&m[e](t)}function b(t){w[x[t.which]]=!1}function _(){w={}}function v(){let t;for(t=0;t<26;t++)x[65+t]=(10+t).toString(36);for(t=0;t<10;t++)x[48+t]=""+t;window.addEventListener("keydown",y),window.addEventListener("keyup",b),window.addEventListener("blur",_)}function j(t){return!!w[t]}let A=[],S=[],M={},k=[],E={},T={0:"left",1:"middle",2:"right"},P={x:0,y:0,radius:5};function R(t){let e=t.x,i=t.y;t.anchor&&(e-=t.width*t.anchor.x,i-=t.height*t.anchor.y);let s=P.x-Math.max(e,Math.min(P.x,e+t.width)),n=P.y-Math.max(i,Math.min(P.y,i+t.height));return s*s+n*n<P.radius*P.radius}function I(){let t,e,i=S.length?S:A;for(let s=i.length-1;s>=0;s--)if(e=(t=i[s]).collidesWithPointer?t.collidesWithPointer(P):R(t))return t}function O(t){let e=void 0!==t.button?T[t.button]:"left";E[e]=!0,C(t,"onDown")}function W(t){let e=void 0!==t.button?T[t.button]:"left";E[e]=!1,C(t,"onUp")}function L(t){C(t,"onOver")}function z(){E={}}function C(t,e){let i,s,n=a();if(!n)return;-1!==["touchstart","touchmove","touchend"].indexOf(t.type)?(i=(t.touches[0]||t.changedTouches[0]).clientX,s=(t.touches[0]||t.changedTouches[0]).clientY):(i=t.clientX,s=t.clientY);let h=n.height/n.offsetHeight,r=n.getBoundingClientRect(),o=(i-r.left)*h,c=(s-r.top)*h;P.x=o,P.y=c,t.preventDefault();let l=I();l&&l[e]&&l[e](t),M[e]&&M[e](t,l)}function Y(){let t=a();t.addEventListener("mousedown",O),t.addEventListener("touchstart",O),t.addEventListener("mouseup",W),t.addEventListener("touchend",W),t.addEventListener("blur",z),t.addEventListener("mousemove",L),t.addEventListener("touchmove",L),r("tick",()=>{S.length=0,A.map(t=>{S.push(t)}),A.length=0})}function q(t){[].concat(t).map(t=>{t._r||(t._r=t.render,t.render=function(){A.push(this),this._r()},k.push(t))})}function D(t){return!!k.includes(t)&&I()===t}function H(t){M.onUp=t}function U(t){return!!E[t]}class X{constructor({create:t,maxSize:e=1024}={}){let i;if(!t||!(i=t())||!(i.update&&i.init&&i.isAlive))throw Error("Must provide create() function which returns an object with init(), update(), and isAlive() functions");this._c=t,this._i=0,this.objects=[t()],this.size=1,this.maxSize=e}get(t={}){if(this.objects.length==this._i){if(this.size===this.maxSize)return;for(let t=0;t<this.size&&this.objects.length<this.maxSize;t++)this.objects.unshift(this._c());this.size=this.objects.length}let e=this.objects.shift();return e.init(t),this.objects.push(e),this._i++,e}getAliveObjects(){return this.objects.slice(this.objects.length-this._i)}clear(){this._i=this.objects.length=0,this.size=1,this.objects.push(this._c())}update(t){let e,i=this.size-1,s=Math.max(this.objects.length-this._i,0);for(;i>=s;)(e=this.objects[i]).update(t),e.isAlive()?i--:(this.objects=this.objects.splice(i,1).concat(this.objects),this._i--,s++)}render(){let t=Math.max(this.objects.length-this._i,0);for(let e=this.size-1;e>=t;e--)this.objects[e].render()}}function B(t){return new X(t)}function G(t,e){let i=[],s=e.x+e.width/2,n=e.y+e.height/2,h=t.y<n&&t.y+t.height>=e.y,r=t.y+t.height>=n&&t.y<e.y+e.height;return t.x<s&&t.x+t.width>=e.x&&(h&&i.push(0),r&&i.push(2)),t.x+t.width>=s&&t.x<e.x+e.width&&(h&&i.push(1),r&&i.push(3)),i}B.prototype=X.prototype,B.class=X;class F{constructor({maxDepth:t=3,maxObjects:e=25,bounds:i}={}){this.maxDepth=t,this.maxObjects=e;let s=a();this.bounds=i||{x:0,y:0,width:s.width,height:s.height},this._b=!1,this._d=0,this._o=[],this._s=[],this._p=null}clear(){this._s.map(function(t){t.clear()}),this._b=!1,this._o.length=0}get(t){let e,i,s=new Set;for(;this._s.length&&this._b;){for(e=G(t,this.bounds),i=0;i<e.length;i++)this._s[e[i]].get(t).forEach(t=>s.add(t));return Array.from(s)}return this._o.filter(e=>e!==t)}add(){let t,e,i,s;for(e=0;e<arguments.length;e++)if(i=arguments[e],Array.isArray(i))this.add.apply(this,i);else if(this._b)this._a(i);else if(this._o.push(i),this._o.length>this.maxObjects&&this._d<this.maxDepth){for(this._sp(),t=0;s=this._o[t];t++)this._a(s);this._o.length=0}}_a(t,e,i){for(e=G(t,this.bounds),i=0;i<e.length;i++)this._s[e[i]].add(t)}_sp(t,e,i){if(this._b=!0,!this._s.length)for(t=this.bounds.width/2|0,e=this.bounds.height/2|0,i=0;i<4;i++)this._s[i]=N({bounds:{x:this.bounds.x+(i%2==1?t:0),y:this.bounds.y+(i>=2?e:0),width:t,height:e},maxDepth:this.maxDepth,maxObjects:this.maxObjects}),this._s[i]._d=this._d+1,this._s[i]._p=this}}function N(t){return new F(t)}N.prototype=F.prototype,N.class=F;class J{constructor(t=0,e=0){this._x=t,this._y=e}add(t,e=1){return K(this.x+(t.x||0)*e,this.y+(t.y||0)*e,this)}clamp(t,e,i,s){this._c=!0,this._a=t,this._b=e,this._d=i,this._e=s}get x(){return this._x}get y(){return this._y}set x(t){this._x=this._c?Math.min(Math.max(this._a,t),this._d):t}set y(t){this._y=this._c?Math.min(Math.max(this._b,t),this._e):t}}function K(t,e,i={}){let s=new J(t,e);return i._c&&(s.clamp(i._a,i._b,i._d,i._e),s.x=t,s.y=e),s}K.prototype=J.prototype,K.class=J;class Q{constructor(t){this.init(t)}init(t={}){let{x:e,y:i,dx:s,dy:n,ddx:h,ddy:r,width:o,height:a,image:l}=t;this.position=K(e,i),this.velocity=K(s,n),this.acceleration=K(h,r),this._fx=this._fy=1,this.width=this.height=this.rotation=0,this.ttl=1/0,this.anchor={x:0,y:0},this.context=c();for(let e in t)this[e]=t[e];l&&(this.width=void 0!==o?o:l.width,this.height=void 0!==a?a:l.height),this.sx=0,this.sy=0}get x(){return this.position.x}get y(){return this.position.y}get dx(){return this.velocity.x}get dy(){return this.velocity.y}get ddx(){return this.acceleration.x}get ddy(){return this.acceleration.y}get animations(){return this._a}get viewX(){return this.x-this.sx}get viewY(){return this.y-this.sy}get width(){return this._w}get height(){return this._h}set x(t){this.position.x=t}set y(t){this.position.y=t}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}set ddx(t){this.acceleration.x=t}set ddy(t){this.acceleration.y=t}set animations(t){let e,i;for(e in this._a={},t)this._a[e]=t[e].clone(),i=i||this._a[e];this.currentAnimation=i,this.width=this.width||i.width,this.height=this.height||i.height}set viewX(t){}set viewY(t){}set width(t){let e=t<0?-1:1;this._fx=e,this._w=t*e}set height(t){let e=t<0?-1:1;this._fy=e,this._h=t*e}isAlive(){return this.ttl>0}collidesWith(t){if(this.rotation||t.rotation)return null;let e=this.x-this.width*this.anchor.x,i=this.y-this.height*this.anchor.y,s=t.x,n=t.y;return t.anchor&&(s-=t.width*t.anchor.x,n-=t.height*t.anchor.y),e<s+t.width&&e+this.width>s&&i<n+t.height&&i+this.height>n}update(t){this.advance(t)}render(){this.draw()}playAnimation(t){this.currentAnimation=this.animations[t],this.currentAnimation.loop||this.currentAnimation.reset()}advance(t){this.velocity=this.velocity.add(this.acceleration,t),this.position=this.position.add(this.velocity,t),this.ttl--,this.currentAnimation&&this.currentAnimation.update(t)}draw(){let t=-this.width*this.anchor.x,e=-this.height*this.anchor.y;if(this.context.save(),this.context.translate(this.viewX,this.viewY),this.rotation&&this.context.rotate(this.rotation),-1==this._fx||-1==this._fy){let i=this.width/2+t,s=this.height/2+e;this.context.translate(i,s),this.context.scale(this._fx,this._fy),this.context.translate(-i,-s)}this.image?this.context.drawImage(this.image,0,0,this.image.width,this.image.height,t,e,this.width,this.height):this.currentAnimation?this.currentAnimation.render({x:t,y:e,width:this.width,height:this.height,context:this.context}):(this.context.fillStyle=this.color,this.context.fillRect(t,e,this.width,this.height)),this.context.restore()}}function V(t){return new Q(t)}function Z(t){if(+t===t)return t;let e=[],i=t.split(".."),s=+i[0],n=+i[1],h=s;if(s<n)for(;h<=n;h++)e.push(h);else for(;h>=n;h--)e.push(h);return e}V.prototype=Q.prototype,V.class=Q;class ${constructor({image:t,frameWidth:e,frameHeight:i,frameMargin:s,animations:n}={}){if(!t)throw Error("You must provide an Image for the SpriteSheet");this.animations={},this.image=t,this.frame={width:e,height:i,margin:s},this._f=t.width/e|0,this.createAnimations(n)}createAnimations(t){let e,i;for(i in t){let{frames:s,frameRate:n,loop:h}=t[i];if(e=[],void 0===s)throw Error("Animation "+i+" must provide a frames property");[].concat(s).map(t=>{e=e.concat(Z(t))}),this.animations[i]=f({spriteSheet:this,frames:e,frameRate:n,loop:h})}}}function tt(t){return new $(t)}tt.prototype=$.prototype,tt.class=$;var et=i(0),it=i.n(et);const st=t=>{try{var e=it()(t),i=new Audio;i.addEventListener("error",function(t){console.log("Error: "+i.error.code)},!1),i.src=e,i.play()}catch(t){console.log(t.message)}},nt=(t,e)=>{t&&!e.jumping&&e.grounded&&(e.jumping=!0,e.grounded=!1,st([0,,.1812,,.1349,.4524,,.2365,,,,,,.0819,,,,,1,,,,,.5]),e.dy>-20&&(e.slowed?e.dy-=3:e.dy-=5))},ht=(t,e)=>{e.explode||(t.right?(e.facing="right",e.confused?e.dx=-e.speed:e.dx=e.speed,e.playAnimation("walk_right")):t.left?(e.confused?e.dx=e.speed:e.dx=-e.speed,e.facing="left",e.playAnimation("walk_left")):(e.dx=0,"left"===e.facing?e.playAnimation("idle_left"):e.playAnimation("idle_right")))},rt=(t,e)=>{let i=t.x+t.width/2-(e.x+e.width/2),s=t.y+t.height/2-(e.y+e.height/2),n=t.width/2+e.width/2,h=t.height/2+e.height/2,r=null;if(Math.abs(i)<n&&Math.abs(s)<h){let e=n-Math.abs(i),o=h-Math.abs(s);e>=o?s>0?(r="t",t.y+=o):(r="b",t.y-=o):i>0?(r="l",t.x+=e):(r="r",t.x-=e)}return r};class ot extends V{constructor(t,e,i,s,n,h,r,o){super(),this.x=t,this.y=e,this.width=s,this.height=i,this.color=n,this.effect=o,""!==h&&(this.image=h),this.active=!0,this.pickup=r,this.isMoveable=!0}}var at=i(1),ct=i.n(at),lt=i(2),dt=i.n(lt),ft=i(3),ut=i.n(ft),gt=i(4),pt=i.n(gt),mt=i(5),wt=i.n(mt),xt=i(6),yt=i.n(xt),bt=i(7),_t=i.n(bt),vt=i(8),jt=i.n(vt),At=i(9),St=i.n(At),Mt=i(10),kt=i.n(Mt),Et=i(11),Tt=i.n(Et),Pt=i(12),Rt=i.n(Pt),It=i(13),Ot=i.n(It);const Wt=(t,e)=>{D(t)&&U("left")&&t.isMoveable&&e===t.placer&&(t.x=P.x-t.width/2,t.y=P.y-t.height/2)};let Lt=!1,zt=new Image;zt.src=ct.a;let Ct=new Image;Ct.src=dt.a;let Yt=new Image;Yt.src=ut.a;let qt=new Image;qt.src=yt.a;let Dt=new Image;Dt.src=_t.a;let Ht=new Image;Ht.src=Ot.a;let Ut=new Image;Ut.src=pt.a;let Xt=new Image;Xt.src=wt.a;const Bt=new Image;Bt.src=kt.a;let Gt=new Image;Gt.src=Rt.a;let Ft=new Image;Ft.src=Tt.a;let Nt=new Image;Nt.src=jt.a;let Jt=new Image;Jt.src=St.a,Ht.onload=function(){let{canvas:t,context:e}=l();v(),Y();let i=.1,s=[],n=(t=>{let e=[];const i=V({y:0,x:0,color:"rgba(255,255,255, .3)",height:60,width:t.width}),s=V({x:0,y:50,height:10,width:t.width,color:"black"}),n=V({x:0,y:0,width:t.width,height:10,color:"black"}),h=V({x:0,y:0,height:50,width:15,color:"black"}),r=V({height:50,width:15,x:t.width-15,y:0,color:"black"}),o=V({height:50,width:20,x:t.width/2,y:0,color:"black"}),a=V({x:375,y:50,height:30,width:70,color:"green"});return e.push(i,s,n,h,r,o,a),e})(t),h=[],r=[],o=0,a=0,c=tt({image:zt,frameWidth:72,frameHeight:72,animations:{walk_right:{frames:[4,5,6,7],frameRate:10},walk_left:{frames:[3,2,1,0],frameRate:10},idle_right:{frames:[4],frameRate:1},idle_left:{frames:[3],frameRate:1}}}),d=tt({image:Ct,frameWidth:72,frameHeight:72,animations:{walk_right:{frames:[4,5,6,7],frameRate:10},walk_left:{frames:[3,2,1,0],frameRate:10},idle_right:{frames:[4],frameRate:1},idle_left:{frames:[3],frameRate:1}}});const f=V({x:0,y:0,width:t.width,height:t.height,image:Ht}),u=V({x:0,y:t.height-10,width:t.width,height:10,color:"brown",slowPlayer:!1,hurtPlayer:!1}),g=V({x:0,y:0,height:t.height,width:10,color:"brown",slowPlayer:!1,hurtPlayer:!1}),m=V({x:t.width-10,y:0,height:t.height,width:10,color:"brown",slowPlayer:!1,hurtPlayer:!1}),w=V({x:0,y:0,height:10,width:t.width,color:"brown",slowPlayer:!1,hurtPlayer:!1}),x=V({x:g.width,y:t.height/2-8,height:200,width:52,color:"black",slowPlayer:!1,isClimbable:!0}),y=V({x:m.x-52,y:t.height/2-8,height:216,width:52,color:"black",slowPlayer:!1,isClimbable:!0}),b=V({x:x.x+x.width,y:t.height-20,width:y.x-(x.x+x.width),height:10,color:"Green",slowPlayer:!0,hurtPlayer:!0}),_=V({x:b.width/2.5,y:250,height:16,width:b.width/3,color:"red",image:Gt,slowPlayer:!1}),A=V({x:x.width+g.width-20,y:x.y-40,animations:c.animations,width:20,height:20,facing:"right",dx:0,dy:0,jumping:!0,grounded:!1,climbing:!1,speed:2.5,speed_base:2.5,max_fall_speed:10,name:"Red",wins:!1,confused:!1,explode:!1,objects:[],ammo:0,shootTime:60,confuseTime:0}),S=V({x:739,y:x.y-80,animations:d.animations,width:20,height:20,facing:"left",dx:0,dy:0,jumping:!0,grounded:!1,speed:2.5,speed_base:2.5,max_fall_speed:10,name:"billy",wins:!1,confused:!1,explode:!1,objects:[],ammo:0,shootTime:60,confuseTime:0});let M=A;const k=V({x:710,y:20,height:30,width:70,color:"green",resetGame:()=>{location.reload()}}),E=V({x:k.x-180,y:20,height:30,width:70,color:"green"}),T=new ot(140,25,10,100,"orange","",!1,function(t){t.ddy=0,t.dy=-9}),P=new ot(60,30,25,21,"brown",qt,!0,function(t){this.active&&(this.active=!1,t.speed_base*=1.2,st([1,,.3201,,.4743,.3202,,.0833,,.4207,.4278,,,,,,,,1,,,,,.5]))}),R=new ot(120,30,25,25,"red",Yt,!0,function(t){this.active&&(t.wins=!1,t.explode=!0,t.y-=5,t.ddy=0,t.dy=-4,t.ddx=0,t.dx=1.5*-t.dx,this.active=!1,st([3,,.3708,.5822,.3851,.0584,,-.0268,,,,-.0749,.7624,,,,,,1,,,,,.5]),function(t){t===A?X.active=!0:t===S&&(C.active=!0)}(t))}),I=new ot(280,25,25,21,"pink",Dt,!0,function(t){this.active&&(t.confuseTime=0,this.active=!1,t.speed_base=-t.speed_base)}),O=new ot(0,0,30,30,"gray",Xt,!0,function(t){this.active&&(t.ammo+=5,this.active=!1)}),W=new ot(100,100,8,40,"green",Bt,!1,function(t){let e=rt(t,this);null!==e&&t.explode&&(t.explode=!1),"l"===e||"r"===e?t.dx=0:"b"===e?(t.dy=0,t.ddy=0,t.jumping=!1,t.grounded=!0,t.climbing=!1,t.speed=t.speed_base,t.slowed=!1):"t"===e&&(t.dy=0,t.climbing=!1)}),L=new ot(100,100,40,8,"green",Ft,!1,function(t){this.isClimbable=!0;let e=rt(t,this);null!==e&&t.explode&&(t.explode=!1),"l"===e||"r"===e?t.dx=0:"b"===e?(t.dy=0,t.ddy=0,t.jumping=!1,t.grounded=!0,t.climbing=!1,t.speed=t.speed_base):"t"===e&&(t.dy=0,t.climbing=!1)}),z=new ot(752.5,175,16,16,"#ed64644a","",!0,t=>{t.wins||(alert(`${t.name} wins!!!`),t.wins=!0),this.active=!1});z.isMoveable=!1;const C=new ot(32,175,13,13,"green",Nt,!1,function(t){t!==this.placer&&this.active&&(t.wins=!0,this.active=!1)}),X=new ot(t.width-42,175,13,13,"red",Jt,!0,function(t){t!==this.placer&&this.active&&(t.wins=!0,this.active=!1)});C.placer=A,X.placer=S,C.active=!0,X.active=!0;const B=Q(R);B.x=335,B.y=220;const G=Q(R);G.x=410,G.y=220;const F=Q(O);F.x=370,F.y=220;const N=Q(P);N.x=370,N.y=350,s.push(n[1],u,b,g,m,w,x,y,_),r.push(B,G,F,N),h.push(T,R,I,W,L);for(let t=0;t<4;t++){let e=K();e.placer=A,e.y=25,A.objects[t]=e;let i=K();i.placer=S,i.y=25,S.objects[t]=i}for(let t=0;t<A.objects.length;t++){A.objects[t].x=A.objects[t].x+50*t}for(let e=0;e<S.objects.length;e++){S.objects[e].x=t.width/2+100+50*e}function J(t){t.dy<t.max_fall_speed&&!t.climbing&&t.dy<10&&(t.dy+=i)}function K(){let t=Math.floor(Math.random()*h.length),e=h[t];return new ot(e.x,e.y,e.height,e.width,e.color,e.image,e.pickup,e.effect)}function Q(t){return new ot(t.x,t.y,t.height,t.width,t.color,t.image,t.pickup,t.effect)}function Z(t,e){if(e===C||e===X){let i=e;t.collidesWith(i)&&i.effect(t)}else for(let i=0;i<e.length;i++){let s=e[i];t.collidesWith(s)&&s.effect(t),s.active||s===C||s===X||(A.objects=A.objects.filter(function(t){return t!=s}),S.objects=S.objects.filter(function(t){return t!=s}))}}function $(t){t.isBullet||(t.x<=80?t.x=t.x+x.width/12:t.x+t.width>=740&&(t.x=740-y.width-t.width/2))}function et(t,e){if(t&&e.ammo>0){e.ammo--,e.shootTime=0;let t=new ot(e.x+e.width/1.5,e.y+e.height/2,10,10,"red",Ut,!0,function(e){e!==t.placer&&t.collidesWith(e)&&(e.wins=!1,e===A?X.active=!0:e===S&&(C.active=!0),t.color="transparent",e.dy=-1.5,e.explode=!0,e.dx=.3*t.dx)});t.placer=e,"right"===e.facing?t.dx=10:t.dx=-10,t.isBullet=!0,e.objects.push(t),h.push(t)}}function it(e){Z(e,A.objects),Z(e,S.objects),Z(e,r),Z(e,C),Z(e,X),A.wins&&A.x<34&&!S.wins&&(alert("Player 1 wins!!!"),location.reload()),S.wins&&S.x>745&&!A.wins&&(alert("Player 2 wins!!!"),location.reload());for(let i=0;i<s.length;i++){let n=s[i];s[i].update();let h=rt(e,s[i]);"l"===h||"r"===h?(e.dx=0,n.isClimbable&&(e.dy=-10)):"b"===h?(e.dy=0,e.ddy=0,e.jumping=!1,e.grounded=!0,e.climbing=!1,s[i]===b?(e.speed=e.speed_base/2,e.slowed=!0):(e.speed=e.speed_base,e.slowed=!1)):"t"===h&&(e.dy=0,e.climbing=!1),(e.x>t.width||e.y>t.height||e.x<0||e.y<0)&&(e.x=30,e.y=170,e.dx=0,e.ddy=0),null!==h&&e.explode&&(e.explode=!1)}}e.fillStyle="teal",e.font="10px Courier New",p({update:function(){J(A),J(S),it(A),it(S),A.update(),S.update(),C.update(),X.update(),F.active||++o>600&&(F.active=!0,o=0,r.push(F));for(let t=0;t<A.objects.length;t++)A.objects[t].update(),q(A.objects[t]),Lt||Wt(A.objects[t],M),$(A.objects[t]);for(let t=0;t<S.objects.length;t++)S.objects[t].update(),q(S.objects[t]),Lt||Wt(S.objects[t],M),$(S.objects[t]);k.update(),q(k),Lt||q(n[6]),q(E),D(k)&&U("left")&&H(()=>{k.color="red",k.resetGame()}),Lt||D(n[6])&&U("left")&&H(()=>{Lt=!0,n=n.filter(function(t){return t!=n[6]})}),a++,j("t")&&a/60>10&&(M===A?M=S:M===S&&(M=A),a=0),0,Lt&&(nt(j("w"),A),nt(j("up"),S),ht({left:j("a"),right:j("d")},A),ht({left:j("left"),right:j("right")},S),A.shootTime>60&&et(j("e"),A),S.shootTime>60&&et(j("space"),S)),A.shootTime++,S.shootTime++,A.collidesWith(S)&&(A.x=A.x+1),S.collidesWith(A)&&(S.x=S.x-1)},render:function(){f.render(),A.render(),S.render(),z.render(),C.active&&C.render(),X.active&&X.render();for(let t=0;t<A.objects.length;t++){let e=A.objects[t];e.active&&e.render()}for(let t=0;t<S.objects.length;t++){let e=S.objects[t];e.active&&e.render()}for(let t=0;t<r.length;t++){let e=r[t];e.active&&e.render()}for(let t=0;t<n.length;t++)n[t].render();if(_.render(),k.render(),e.fillStyle="white",e.font="10px Courier New",e.fillText("RESET",k.x+k.width/2-12,k.y+k.height/2+2.5),Lt?e.fillText("STEAL THEM GEMS!!",E.x+E.width/2-12,E.y+E.height/2+2.5):e.fillText(M.name+" Turn",E.x+E.width/2-12,E.y+E.height/2+2.5),!Lt){let t=n[6];e.fillText("START",t.x+t.width/2-12,t.y+t.height/2+2.5)}}}).start()};i(14)}]);</script></body></html>